<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="utf-8">
      <title>YDKJS: Functions</title>
      <style>
        
      </style>
    </head>
    <body>
        <script type="text/JavaScript">
            function foo(){
                return 42;
            }

            foo.bar = "hello world";
            
            document.write(String(typeof foo) + "<br />"); //function
            document.write(String(typeof foo()) + "<br />"); //number
            document.write(String(typeof foo.bar) + "<br />"); //string

            //The idea from page 34 is that strings and numbers are also types of objects, and therefore, have methods that you can call on them.

            var a = "hello world";
            var b = 3.14159;

            document.write("<br />" + String(a.length) + "<br />"); //11
            document.write(String(a.toUpperCase()) + "<br />"); //HELLO WORLD 
            document.write(String(b.toFixed(2)) + "<br />"); //3.14

            //Functions as variables (page 47)
            //Anomymous function
            var fubar = function(){
                return "Situation not normal.";
            };

            //Named function
            var s = function snafu(){
                return "Situation normal.";
            };

            var crazy = prompt("On a scale of one to ten, how crazy are things today?");

            var factor = (crazy < 11) ? s() : fubar();
            alert(factor);

            (function rightNow(){
                alert("I am an IIFE, and I wanted to be executed RIGHT NOW!!!");
            })();

            //Closures (page 49)
            function makeAdder(x){
                //x is an inner variable
                
                //inner function 'add' uses 'x', so it has a closure over it.
                function add(y){
                    return x + y;
                }

                return add;
            };

            var plusOne = makeAdder(1);
            var plusTen = makeAdder(10);

            console.log(plusOne(3)); //4
            console.log(plusTen(3)); //13
        </script>
    </body>
</html>